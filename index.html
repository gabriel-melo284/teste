<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<title>Surpresa</title>
<style>
  :root { --pink:#ff4fa3; }

  html, body {
    margin:0; padding:0;
    height:100%; width:100%;
    overflow:hidden; background:#fff;
    font-family:system-ui, -apple-system, Arial, sans-serif;
  }

  /* Est√°gio dos bot√µes */
  #stage { position:relative; width:100vw; height:100vh; }

  .btn {
    position:absolute;
    padding:14px 28px;
    font-size:20px;
    background:var(--pink);
    color:#fff; border:0; border-radius:12px;
    cursor:pointer;
    box-shadow:0 10px 24px rgba(255,79,163,.25);
    transition:transform .1s ease;
    touch-action:manipulation;
    user-select:none;
  }
  .btn:active { transform:scale(.98); }

  /* Tela final (centraliza√ß√£o perfeita) */
  #final {
    position:absolute; inset:0;
    display:none;                /* s√≥ mostra ao final */
    background:#fff;
    overflow:hidden;
    display:flex; flex-direction:column;
    justify-content:center; align-items:center;
    text-align:center; color:var(--pink);
  }
  h1 { margin:0; font-size:clamp(36px,10vw,96px); font-weight:900; }
  .heart { font-size:clamp(40px,8vw,80px); margin-top:12px; }

  /* Fotos nos cantos */
  .photo {
    position:absolute;
    width:28vw; max-width:160px;
    border-radius:14px; border:4px solid var(--pink);
    object-fit:cover; background:#fff;
    box-shadow:0 10px 20px rgba(0,0,0,.15);
    pointer-events:none;
  }
  .top-left    { top:20px;   left:20px;   transform:rotate(-6deg); }
  .top-right   { top:20px;   right:20px;  transform:rotate(6deg); }
  .bottom-left { bottom:20px; left:20px;  transform:rotate(6deg); }
  .bottom-right{ bottom:20px; right:20px; transform:rotate(-6deg); }

  @media (max-width:600px) {
    .photo { width:34vw; max-width:140px; }
    .btn { width:70vw; max-width:320px; }
  }
</style>
</head>
<body>

<!-- FASE DOS BOT√ïES -->
<div id="stage"></div>

<!-- TELA FINAL -->
<div id="final">
  <!-- Troque os src conforme seus arquivos -->
  <img class="photo top-left"    src="images/1.jpg" alt="">
  <img class="photo top-right"   src="images/2.jpg" alt="">
  <img class="photo bottom-left" src="images/3.jpg" alt="">
  <img class="photo bottom-right"src="images/4.jpg" alt="">
  <h1>TE AMO MUITO!</h1>
  <div class="heart">üíó</div>
</div>

<script>
  // Etapas
  const STEPS = ["clique aqui","agora aqui","quase l√°","√∫ltimo","agora √© s√©rio"];
  let step = 0;
  let advancing = false; // antirrepique

  const stage = document.getElementById('stage');
  const finalScreen = document.getElementById('final');

  function rand(min, max){ return Math.random() * (max - min) + min; }

  function renderStep() {
    // terminou? mostra a tela final na MESMA p√°gina
    if (step >= STEPS.length) {
      stage.style.display = 'none';
      finalScreen.style.display = 'flex';
      return;
    }

    // Limpa e cria novo bot√£o
    stage.replaceChildren();
    const btn = document.createElement('button');
    btn.className = 'btn';
    btn.textContent = STEPS[step];

    // √Årea segura para n√£o colar nas bordas
    const margin = 20, bw = 220, bh = 64;
    const maxX = window.innerWidth  - (margin + bw);
    const maxY = window.innerHeight - (margin + bh);
    btn.style.left = `${rand(margin, Math.max(margin, maxX))}px`;
    btn.style.top  = `${rand(margin, Math.max(margin, maxY))}px`;

    // Evento robusto no mobile: pointerdown + antirrepique
    btn.addEventListener('pointerdown', (ev) => {
      if (advancing) return;
      advancing = true;
      ev.preventDefault();
      btn.disabled = true;
      btn.style.pointerEvents = 'none';
      step += 1;
      // pequena espera para garantir que o bot√£o n√£o receba segundo evento
      setTimeout(() => { advancing = false; renderStep(); }, 50);
    }, { passive:false, once:true });

    stage.appendChild(btn);
  }

  // Inicializa
  addEventListener('load', renderStep);

  // Se girar/trocar tamanho, re-renderiza o bot√£o atual sem avan√ßar
  addEventListener('resize', () => {
    if (finalScreen.style.display !== 'flex') renderStep();
  });
</script>

</body>
</html>
